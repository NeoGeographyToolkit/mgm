.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.49.1.
.TH MGM "1" "November 2022" "mgm 2.0" "User Commands"
.SH NAME
mgm \- Compute stereo disparities by the MGM algorithm.
.SH SYNOPSIS
.B mgm
[\fI\,options\/\fR] \fI\,in_u in_v out_disp\/\fR
.br
.B mgm
[\fI\,options\/\fR] \fI\,in_u in_v out_disp out_cost\/\fR
.br
.B mgm
[\fI\,options\/\fR] \fI\,in_u in_v out_disp out_cost out_backflow\/\fR
.SH DESCRIPTION
Mgm computes a disparity map between two rectified images.
The algorithm is described in the article
.IP
"MGM: A Significantly More Global Matching for Stereovision".
G. Facciolo and C. de Franchis and E. Meinhardt
British Machine Vision Conference 2015
.PP
All the parameters in the paper are accessible by options of this program.
See http://dev.ipol.im/~facciolo/mgm/ for more details.
.SH OPTIONS
.TP
\fB\-h\fR
Display short help message.
.TP
\fB\-\-help\fR
Display longer help message.
.TP
\fB\-\-version\fR
Print version of mgm.
.TP
\fB\-r\fR {\-30}
Minimum horizontal disparity value.
.TP
\fB\-R\fR {30}
Maximum horizontal disparity value.
.TP
\fB\-O\fR {4}
Number of search directions. Options: 2, 4, 8, 16.
.TP
\fB\-P1\fR {8}
SGM regularization parameter P1.
.TP
\fB\-P2\fR {32}
SGM regularization parameter P2.
.TP
\fB\-p\fR {none}
Prefilter algorithm: none, census, sobelx, gblur.
The ``census`` mode uses a window of size CENSUS_NCC_WIN.
.TP
\fB\-t\fR {ad}
Distance function: census, ad, sd, ncc, btad, btsd.
For ``ncc`` the window is of size CENSUS_NCC_WIN.
The ``bt`` option is the Birchfield\-Tomasi distance.
.TP
\fB\-truncDist\fR {inf}
Truncate distances at nch * truncDist.
.TP
\fB\-s\fR {none}
Subpixel refinement method: none, vfit, parabola, cubic.
.TP
\fB\-aP1\fR {1}
Multiplier of P1 when sum |I1 \- I2|^2 < nch * aThresh^2.
.TP
\fB\-aP2\fR {1}:
Multiplier of P2 as above.
.TP
\fB\-aThresh\fR {5}
Threshold for the multiplier factors.
.TP
\fB\-m\fR FILE {none}
A file with minimum input disparity per pixel.
.TP
\fB\-M\fR FILE {none}
A file with maximum input disparity per pixel.
.TP
\fB\-l\fR FILE {none}
Write here the disparity before the left\-to\-right test.
.SH ENVIRONMENT
.TP
CENSUS_NCC_WIN=3
Size of the window for the census prefilter and NCC.
.TP
TESTLRRL=1
If 1, do left\-to\-right and r\-to\-l consistency checks.
.TP
MEDIAN=0:
Radius of the median filter postprocessing.
.TP
TSGM=4
Regularity level.
.TP
TSGM_ITER=1
Number of iterations.
.TP
TSGM_FIX_OVERCOUNT=1
If 1, fix overcounting of the data term in the energy.
.TP
TSGM_DEBUG=0
If 1, print debug information.
.TP
TSGM_2LMIN=0
Use the improved TSGM cost only for TSGM=2. Overrides the TSGM value.
.TP
USE_TRUNCATED_LINEAR_POTENTIALS=0
If 1, use the Felzenszwalb\-Huttenlocher
truncated linear potential.  Then P1 and
P2 change meaning.  The potential
becomes V(p,q) = min(P2, P1*|p\-q|).
.SH EXAMPLES
.TP
mgm u.tif v.tif disp_uv.tif
compute disparities between u and v
.TP
mgm u.tif v.tif disp_uv.tif cost.tif
\&...and save the matching costs
.TP
MEDIAN=1 mgm ...
\&...enable median filter preprocessing
.TP
TESTLRRL=0 mgm ...
\&...disable output consistency checks
.TP
mgm u.tif v.tif disp.tif \-l d0.tif
\&...save pre\-filtered disparities
.SH "REPORTING BUGS"
Report bugs to <gabriele.facciolo@ens\-paris\-saclay.fr>.
